////  FacebookRotateHandler.m//  FacebookRotateHandler////  Copyright (c) 2016å¹´ D.A.Consortium. All rights reserved.//#import "FacebookRotateHandler.h"@interface FacebookRotateHandler()    @property DASMediationView *mediationView;    @property FBAdView *adView;    @property FBAdSize adSize;    @property NSString *placementID;    @property (weak) UIViewController *viewController;@end@implementation FacebookRotateHandler{  BOOL facebookAdWillContinue;}- (instancetype) init {    self = [self initWithPlacementID:@"" adSize: kFBAdSize320x50 rootViewController: nil];    if (self) {    }    facebookAdWillContinue = NO;    return nil;}- (instancetype)initWithPlacementID:(NSString *)placementID                             adSize:(FBAdSize)adSize                 rootViewController:(nullable UIViewController *)viewController{    self = [super init];    if (self) {        self.placementID = placementID;        self.adSize = adSize;        self.viewController = viewController;    }    facebookAdWillContinue = NO;    return self;}- (BOOL)mediationViewWillRotation: (DASMediationView *)mediationView{    self.mediationView = mediationView;            if ([self.mediationView.adTag rangeOfString:@"<!-- facebook -->"].location != NSNotFound) {        if (!facebookAdWillContinue){        [self createFacebookAd];        }        return false;    } else {        self.mediationView.hidden = NO;        [self removeFacebookAd];        return true;    }        return true;}- (void)createFacebookAd{    facebookAdWillContinue = YES;    self.adView = [[FBAdView alloc] initWithPlacementID:_placementID                                             adSize:_adSize                                 rootViewController:_viewController];    self.adView.delegate = self;    [self.adView loadAd];    self.adView.frame = self.mediationView.frame;    [self.viewController.view addSubview:self.adView];}- (void)removeFacebookAd{    facebookAdWillContinue = NO;     self.adView.delegate = nil;    [self.adView removeFromSuperview];    self.adView = nil;}- (void)adViewDidLoad:_adView{    self.mediationView.hidden = YES;}@end